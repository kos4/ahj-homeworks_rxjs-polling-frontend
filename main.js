(()=>{"use strict";var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])},e(r,t)};function r(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=r}e(r,t),r.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var t=function(){return t=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++)for(var o in r=arguments[t])Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);return e},t.apply(this,arguments)};function n(e,r,t,n){return new(t||(t=Promise))((function(o,i){function u(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var r;e.done?o(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(u,s)}c((n=n.apply(e,r||[])).next())}))}function o(e,r){var t,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(u=0)),u;)try{if(t=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return u.label++,{value:s[1],done:!1};case 5:u.label++,n=s[1],s=[0];continue;case 7:s=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){u=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){u.label=s[1];break}if(6===s[0]&&u.label<o[1]){u.label=o[1],o=s;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(s);break}o[2]&&u.ops.pop(),u.trys.pop();continue}s=r.call(e,u)}catch(e){s=[6,e],n=0}finally{t=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}Object.create;function i(e){var r="function"==typeof Symbol&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(e,r){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var n,o,i=t.call(e),u=[];try{for(;(void 0===r||r-- >0)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return u}function s(e,r,t){if(t||2===arguments.length)for(var n,o=0,i=r.length;o<i;o++)!n&&o in r||(n||(n=Array.prototype.slice.call(r,0,o)),n[o]=r[o]);return e.concat(n||Array.prototype.slice.call(r))}function c(e){return this instanceof c?(this.v=e,this):new c(e)}function a(e,r,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=t.apply(e,r||[]),i=[];return n={},u("next"),u("throw"),u("return"),n[Symbol.asyncIterator]=function(){return this},n;function u(e){o[e]&&(n[e]=function(r){return new Promise((function(t,n){i.push([e,r,t,n])>1||s(e,r)}))})}function s(e,r){try{(t=o[e](r)).value instanceof c?Promise.resolve(t.value.v).then(a,l):f(i[0][2],t)}catch(e){f(i[0][3],e)}var t}function a(e){s("next",e)}function l(e){s("throw",e)}function f(e,r){e(r),i.shift(),i.length&&s(i[0][0],i[0][1])}}function l(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,t=e[Symbol.asyncIterator];return t?t.call(e):(e=i(e),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(t){r[t]=e[t]&&function(r){return new Promise((function(n,o){(function(e,r,t,n){Promise.resolve(n).then((function(r){e({value:r,done:t})}),r)})(n,o,(r=e[t](r)).done,r.value)}))}}}Object.create;function f(e){return"function"==typeof e}function p(e){return function(r){if(function(e){return f(null==e?void 0:e.lift)}(r))return r.lift((function(r){try{return e(r,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}function d(e){var r=e((function(e){Error.call(e),e.stack=(new Error).stack}));return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var h=d((function(e){return function(r){e(this),this.message=r?r.length+" errors occurred during unsubscription:\n"+r.map((function(e,r){return r+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=r}}));function v(e,r){if(e){var t=e.indexOf(r);0<=t&&e.splice(t,1)}}var y=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}var r;return e.prototype.unsubscribe=function(){var e,r,t,n,o;if(!this.closed){this.closed=!0;var c=this._parentage;if(c)if(this._parentage=null,Array.isArray(c))try{for(var a=i(c),l=a.next();!l.done;l=a.next()){l.value.remove(this)}}catch(r){e={error:r}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}else c.remove(this);var p=this.initialTeardown;if(f(p))try{p()}catch(e){o=e instanceof h?e.errors:[e]}var d=this._finalizers;if(d){this._finalizers=null;try{for(var v=i(d),y=v.next();!y.done;y=v.next()){var b=y.value;try{m(b)}catch(e){o=null!=o?o:[],e instanceof h?o=s(s([],u(o)),u(e.errors)):o.push(e)}}}catch(e){t={error:e}}finally{try{y&&!y.done&&(n=v.return)&&n.call(v)}finally{if(t)throw t.error}}}if(o)throw new h(o)}},e.prototype.add=function(r){var t;if(r&&r!==this)if(this.closed)m(r);else{if(r instanceof e){if(r.closed||r._hasParent(this))return;r._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(r)}},e.prototype._hasParent=function(e){var r=this._parentage;return r===e||Array.isArray(r)&&r.includes(e)},e.prototype._addParent=function(e){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(e),r):r?[r,e]:e},e.prototype._removeParent=function(e){var r=this._parentage;r===e?this._parentage=null:Array.isArray(r)&&v(r,e)},e.prototype.remove=function(r){var t=this._finalizers;t&&v(t,r),r instanceof e&&r._removeParent(this)},e.EMPTY=((r=new e).closed=!0,r),e}();y.EMPTY;function b(e){return e instanceof y||e&&"closed"in e&&f(e.remove)&&f(e.add)&&f(e.unsubscribe)}function m(e){f(e)?e():e.unsubscribe()}var w={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},g={setTimeout:function(e,r){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];var o=g.delegate;return(null==o?void 0:o.setTimeout)?o.setTimeout.apply(o,s([e,r],u(t))):setTimeout.apply(void 0,s([e,r],u(t)))},clearTimeout:function(e){var r=g.delegate;return((null==r?void 0:r.clearTimeout)||clearTimeout)(e)},delegate:void 0};function x(e){g.setTimeout((function(){var r=w.onUnhandledError;if(!r)throw e;r(e)}))}function S(){}var _=T("C",void 0,void 0);function T(e,r,t){return{kind:e,value:r,error:t}}var E=null;var P=function(e){function t(r){var t=e.call(this)||this;return t.isStopped=!1,r?(t.destination=r,b(r)&&r.add(t)):t.destination=D,t}return r(t,e),t.create=function(e,r,t){return new L(e,r,t)},t.prototype.next=function(e){this.isStopped?k(function(e){return T("N",e,void 0)}(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?k(T("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?k(_,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(y),j=Function.prototype.bind;function O(e,r){return j.call(e,r)}var A=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var r=this.partialObserver;if(r.next)try{r.next(e)}catch(e){R(e)}},e.prototype.error=function(e){var r=this.partialObserver;if(r.error)try{r.error(e)}catch(e){R(e)}else R(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){R(e)}},e}(),L=function(e){function t(r,t,n){var o,i,u=e.call(this)||this;f(r)||!r?o={next:null!=r?r:void 0,error:null!=t?t:void 0,complete:null!=n?n:void 0}:u&&w.useDeprecatedNextContext?((i=Object.create(r)).unsubscribe=function(){return u.unsubscribe()},o={next:r.next&&O(r.next,i),error:r.error&&O(r.error,i),complete:r.complete&&O(r.complete,i)}):o=r;return u.destination=new A(o),u}return r(t,e),t}(P);function R(e){var r;w.useDeprecatedSynchronousErrorHandling?(r=e,w.useDeprecatedSynchronousErrorHandling&&E&&(E.errorThrown=!0,E.error=r)):x(e)}function k(e,r){var t=w.onStoppedNotification;t&&g.setTimeout((function(){return t(e,r)}))}var D={closed:!0,next:S,error:function(e){throw e},complete:S};function U(e,r,t,n,o){return new H(e,r,t,n,o)}var H=function(e){function t(r,t,n,o,i,u){var s=e.call(this,r)||this;return s.onFinalize=i,s.shouldUnsubscribe=u,s._next=t?function(e){try{t(e)}catch(e){r.error(e)}}:e.prototype._next,s._error=o?function(e){try{o(e)}catch(e){r.error(e)}finally{this.unsubscribe()}}:e.prototype._error,s._complete=n?function(){try{n()}catch(e){r.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,s}return r(t,e),t.prototype.unsubscribe=function(){var r;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var t=this.closed;e.prototype.unsubscribe.call(this),!t&&(null===(r=this.onFinalize)||void 0===r||r.call(this))}},t}(P);function I(e,r){return p((function(t,n){var o=0;t.subscribe(U(n,(function(t){n.next(e.call(r,t,o++))})))}))}var M="function"==typeof Symbol&&Symbol.observable||"@@observable";function q(e){return e}function C(e){return 0===e.length?q:1===e.length?e[0]:function(r){return e.reduce((function(e,r){return r(e)}),r)}}var N=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(r){var t=new e;return t.source=this,t.operator=r,t},e.prototype.subscribe=function(e,r,t){var n,o=this,i=(n=e)&&n instanceof P||function(e){return e&&f(e.next)&&f(e.error)&&f(e.complete)}(n)&&b(n)?e:new L(e,r,t);return function(e){if(w.useDeprecatedSynchronousErrorHandling){var r=!E;if(r&&(E={errorThrown:!1,error:null}),e(),r){var t=E,n=t.errorThrown,o=t.error;if(E=null,n)throw o}}else e()}((function(){var e=o,r=e.operator,t=e.source;i.add(r?r.call(i,t):t?o._subscribe(i):o._trySubscribe(i))})),i},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(r){e.error(r)}},e.prototype.forEach=function(e,r){var t=this;return new(r=z(r))((function(r,n){var o=new L({next:function(r){try{e(r)}catch(e){n(e),o.unsubscribe()}},error:n,complete:r});t.subscribe(o)}))},e.prototype._subscribe=function(e){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(e)},e.prototype[M]=function(){return this},e.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return C(e)(this)},e.prototype.toPromise=function(e){var r=this;return new(e=z(e))((function(e,t){var n;r.subscribe((function(e){return n=e}),(function(e){return t(e)}),(function(){return e(n)}))}))},e.create=function(r){return new e(r)},e}();function z(e){var r;return null!==(r=null!=e?e:w.Promise)&&void 0!==r?r:Promise}function F(e){switch(e.responseType){case"json":if("response"in e)return e.response;var r=e;return JSON.parse(r.responseText);case"document":return e.responseXML;default:return"response"in e?e.response:(r=e).responseText}}var X=function(e,r,t,n){void 0===n&&(n="download_load"),this.originalEvent=e,this.xhr=r,this.request=t,this.type=n;var o=r.status,i=r.responseType;this.status=null!=o?o:0,this.responseType=null!=i?i:"";var u=r.getAllResponseHeaders();this.responseHeaders=u?u.split("\n").reduce((function(e,r){var t=r.indexOf(": ");return e[r.slice(0,t)]=r.slice(t+2),e}),{}):{},this.response=F(r);var s=e.loaded,c=e.total;this.loaded=s,this.total=c},B=d((function(e){return function(e,r,t){var n;this.message=e,this.name="AjaxError",this.xhr=r,this.request=t,this.status=r.status,this.responseType=r.responseType;try{n=F(r)}catch(e){n=r.responseText}this.response=n}})),G=function(){function e(e,r){return B.call(this,"ajax timeout",e,r),this.name="AjaxTimeoutError",this}return e.prototype=Object.create(B.prototype),e}();function Y(e,r){return ee({method:"GET",url:e,headers:r})}function $(e,r,t){return ee({method:"POST",url:e,body:r,headers:t})}function J(e,r){return ee({method:"DELETE",url:e,headers:r})}function V(e,r,t){return ee({method:"PUT",url:e,body:r,headers:t})}function K(e,r,t){return ee({method:"PATCH",url:e,body:r,headers:t})}var Q=I((function(e){return e.response}));function W(e,r){return Q(ee({method:"GET",url:e,headers:r}))}var Z,ee=(Z=function(e){var r;return r="string"==typeof e?{url:e}:e,new N((function(e){var n,o,i,u=t({async:!0,crossDomain:!1,withCredentials:!1,method:"GET",timeout:0,responseType:"json"},r),s=u.queryParams,c=u.body,a=u.headers,l=u.url;if(!l)throw new TypeError("url is required");if(s)if(l.includes("?")){var f=l.split("?");if(2<f.length)throw new TypeError("invalid url");i=new URLSearchParams(f[1]),new URLSearchParams(s).forEach((function(e,r){return i.set(r,e)})),l=f[0]+"?"+i}else l=l+"?"+(i=new URLSearchParams(s));var p={};if(a)for(var d in a)a.hasOwnProperty(d)&&(p[d.toLowerCase()]=a[d]);var h=u.crossDomain;h||"x-requested-with"in p||(p["x-requested-with"]="XMLHttpRequest");var v=u.withCredentials,y=u.xsrfCookieName,b=u.xsrfHeaderName;if((v||!h)&&y&&b){var m=null!==(o=null===(n=null===document||void 0===document?void 0:document.cookie.match(new RegExp("(^|;\\s*)("+y+")=([^;]*)")))||void 0===n?void 0:n.pop())&&void 0!==o?o:"";m&&(p[b]=m)}var w,g=function(e,r){var t;if(!e||"string"==typeof e||function(e){return"undefined"!=typeof FormData&&e instanceof FormData}(e)||function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams}(e)||function(e){return se(e,"ArrayBuffer")}(e)||function(e){return se(e,"File")}(e)||function(e){return se(e,"Blob")}(e)||function(e){return"undefined"!=typeof ReadableStream&&e instanceof ReadableStream}(e))return e;if(function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView(e)}(e))return e.buffer;if("object"==typeof e)return r["content-type"]=null!==(t=r["content-type"])&&void 0!==t?t:"application/json;charset=utf-8",JSON.stringify(e);throw new TypeError("Unknown body type")}(c,p),x=t(t({},u),{url:l,headers:p,body:g});w=r.createXHR?r.createXHR():new XMLHttpRequest;var S=r.progressSubscriber,_=r.includeDownloadProgress,T=void 0!==_&&_,E=r.includeUploadProgress,P=void 0!==E&&E,j=function(r,t){w.addEventListener(r,(function(){var r,n=t();null===(r=null==S?void 0:S.error)||void 0===r||r.call(S,n),e.error(n)}))};j("timeout",(function(){return new G(w,x)})),j("abort",(function(){return new B("aborted",w,x)}));var O=function(e,r){return new X(r,w,x,e+"_"+r.type)},A=function(r,t,n){r.addEventListener(t,(function(r){e.next(O(n,r))}))};P&&[ne,oe,ie].forEach((function(e){return A(w.upload,e,re)})),S&&[ne,oe].forEach((function(e){return w.upload.addEventListener(e,(function(e){var r;return null===(r=null==S?void 0:S.next)||void 0===r?void 0:r.call(S,e)}))})),T&&[ne,oe].forEach((function(e){return A(w,e,te)}));var L=function(r){var t="ajax error"+(r?" "+r:"");e.error(new B(t,w,x))};w.addEventListener("error",(function(e){var r;null===(r=null==S?void 0:S.error)||void 0===r||r.call(S,e),L()})),w.addEventListener(ie,(function(r){var t,n,o=w.status;if(o<400){null===(t=null==S?void 0:S.complete)||void 0===t||t.call(S);var i=void 0;try{i=O(te,r)}catch(r){return void e.error(r)}e.next(i),e.complete()}else null===(n=null==S?void 0:S.error)||void 0===n||n.call(S,r),L(o)}));var R=x.user,k=x.method,D=x.async;for(var d in R?w.open(k,l,D,R,x.password):w.open(k,l,D),D&&(w.timeout=x.timeout,w.responseType=x.responseType),"withCredentials"in w&&(w.withCredentials=x.withCredentials),p)p.hasOwnProperty(d)&&w.setRequestHeader(d,p[d]);return g?w.send(g):w.send(),function(){w&&4!==w.readyState&&w.abort()}}))},Z.get=Y,Z.post=$,Z.delete=J,Z.put=V,Z.patch=K,Z.getJSON=W,Z),re="upload",te="download",ne="loadstart",oe="progress",ie="load";var ue=Object.prototype.toString;function se(e,r){return ue.call(e)==="[object "+r+"]"}var ce=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function ae(e){return f(null==e?void 0:e.then)}function le(e){return f(e[M])}function fe(e){return Symbol.asyncIterator&&f(null==e?void 0:e[Symbol.asyncIterator])}function pe(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var de="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function he(e){return f(null==e?void 0:e[de])}function ve(e){return a(this,arguments,(function(){var r,t,n;return o(this,(function(o){switch(o.label){case 0:r=e.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,c(r.read())];case 3:return t=o.sent(),n=t.value,t.done?[4,c(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,c(n)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return r.releaseLock(),[7];case 10:return[2]}}))}))}function ye(e){return f(null==e?void 0:e.getReader)}function be(e){if(e instanceof N)return e;if(null!=e){if(le(e))return o=e,new N((function(e){var r=o[M]();if(f(r.subscribe))return r.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(ce(e))return n=e,new N((function(e){for(var r=0;r<n.length&&!e.closed;r++)e.next(n[r]);e.complete()}));if(ae(e))return t=e,new N((function(e){t.then((function(r){e.closed||(e.next(r),e.complete())}),(function(r){return e.error(r)})).then(null,x)}));if(fe(e))return me(e);if(he(e))return r=e,new N((function(e){var t,n;try{for(var o=i(r),u=o.next();!u.done;u=o.next()){var s=u.value;if(e.next(s),e.closed)return}}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}e.complete()}));if(ye(e))return me(ve(e))}var r,t,n,o;throw pe(e)}function me(e){return new N((function(r){(function(e,r){var t,i,u,s;return n(this,void 0,void 0,(function(){var n,c;return o(this,(function(o){switch(o.label){case 0:o.trys.push([0,5,6,11]),t=l(e),o.label=1;case 1:return[4,t.next()];case 2:if((i=o.sent()).done)return[3,4];if(n=i.value,r.next(n),r.closed)return[2];o.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return c=o.sent(),u={error:c},[3,11];case 6:return o.trys.push([6,,9,10]),i&&!i.done&&(s=t.return)?[4,s.call(t)]:[3,8];case 7:o.sent(),o.label=8;case 8:return[3,10];case 9:if(u)throw u.error;return[7];case 10:return[7];case 11:return r.complete(),[2]}}))}))})(e,r).catch((function(e){return r.error(e)}))}))}function we(e){return p((function(r,t){var n,o=null,i=!1;o=r.subscribe(U(t,void 0,void 0,(function(u){n=be(e(u,we(e)(r))),o?(o.unsubscribe(),o=null,n.subscribe(t)):i=!0}))),i&&(o.unsubscribe(),o=null,n.subscribe(t))}))}function ge(e){return e[e.length-1]}function xe(e){return(r=ge(e))&&f(r.schedule)?e.pop():void 0;var r}function Se(e,r,t,n,o){void 0===n&&(n=0),void 0===o&&(o=!1);var i=r.schedule((function(){t(),o?e.add(this.schedule(null,n)):this.unsubscribe()}),n);if(e.add(i),!o)return i}function _e(e,r){return void 0===r&&(r=0),p((function(t,n){t.subscribe(U(n,(function(t){return Se(n,e,(function(){return n.next(t)}),r)}),(function(){return Se(n,e,(function(){return n.complete()}),r)}),(function(t){return Se(n,e,(function(){return n.error(t)}),r)})))}))}function Te(e,r){return void 0===r&&(r=0),p((function(t,n){n.add(e.schedule((function(){return t.subscribe(n)}),r))}))}function Ee(e,r){if(!e)throw new Error("Iterable cannot be null");return new N((function(t){Se(t,r,(function(){var n=e[Symbol.asyncIterator]();Se(t,r,(function(){n.next().then((function(e){e.done?t.complete():t.next(e.value)}))}),0,!0)}))}))}function Pe(e,r){if(null!=e){if(le(e))return function(e,r){return be(e).pipe(Te(r),_e(r))}(e,r);if(ce(e))return function(e,r){return new N((function(t){var n=0;return r.schedule((function(){n===e.length?t.complete():(t.next(e[n++]),t.closed||this.schedule())}))}))}(e,r);if(ae(e))return function(e,r){return be(e).pipe(Te(r),_e(r))}(e,r);if(fe(e))return Ee(e,r);if(he(e))return function(e,r){return new N((function(t){var n;return Se(t,r,(function(){n=e[de](),Se(t,r,(function(){var e,r,o;try{r=(e=n.next()).value,o=e.done}catch(e){return void t.error(e)}o?t.complete():t.next(r)}),0,!0)})),function(){return f(null==n?void 0:n.return)&&n.return()}}))}(e,r);if(ye(e))return function(e,r){return Ee(ve(e),r)}(e,r)}throw pe(e)}function je(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return function(e,r){return r?Pe(e,r):be(e)}(e,xe(e))}class Oe{constructor(e){this.container=e}addMessages(e){e.forEach((e=>this.createMessage(e)))}createMessage(e){this.container.insertAdjacentHTML("afterbegin",Oe.markup(e))}static checkLength(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15,t=e;return t.length>15&&(t=`${t.slice(0,r)}...`),t}static markup(e){return`\n      <div class="letters__item">\n        <div class="letters__item-email">${e.from}</div>\n        <div class="letters__item-subject">${Oe.checkLength(e.subject)}</div>\n        <div class="letters__item-date">${new Date(e.received).toLocaleDateString(void 0,{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}</div>\n      </div>\n    `}}const Ae=new class{constructor(){this.host="https://ahj-homeworks-rxjs-polling-backend.onrender.com/"}getMessages(e){const r=new Oe(e);this.createRequest("messages/unread").subscribe({next:e=>r.addMessages(e),error:e=>console.log(e)})}createRequest(e){return ee({url:this.host+e,crossDomain:!0}).pipe(I((e=>e.response.messages)),we((e=>(console.log("error: ",e),je([])))))}},Le=document.querySelector(".letters");Ae.getMessages(Le),setInterval(Ae.getMessages.bind(Ae,Le),5e3)})();